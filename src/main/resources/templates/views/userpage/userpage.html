<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사용자 프로필</title>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400..700&family=Gaegu&family=Jua&family=Nanum+Pen+Script&family=Playwrite+AU+SA:wght@100..400&family=Single+Day&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
    <style>
        .profile-container {
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /*뒤로가기 버튼 + 제목 */
        .profile-header {
            padding: 2rem;
            display: flex;
            align-items: center;
        }
        
        .back-btn {
        	font-size : 1.8rem;
            margin-right: 1rem;
        }

        
        .profile-title {
            display: inline-block;
            padding-top: 0.7rem;
            font-size: 1.5rem;
        }
        
        .profile-content {
            display: flex;
            margin-bottom: 0.5rem;
        }
        
        .profile-image {
            width: 6.5rem;
            height: 6.5rem;
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
        }
        
        .profile-info {
            flex-grow: 1;
        }
        
        .profile-name, .info {
            font-size: 1rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .user_intro h6 {
        	font-size: 1rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .profile-stats {
		    display: flex;
		    gap: 20px;
		    justify-content: center;
		    align-items: center;
		}
		
		.stat-item {
		    text-align: center;
		    font-size: 2rem;
		    width: 4rem;  /* 프로필 사진과 동일한 크기 */
		    height: 6rem;
		    display: flex;
		    flex-direction: column;
		    justify-content: center;
		    align-items: center;
		}
		
		.stat-number {
		    font-size: 1.8rem; /* 숫자 크기 키우기 */
		    font-weight: bold;
		}
		
		.stat-label {
		    font-size: 1.2rem; /* 라벨 크기 키우기 */
		    color: #666;
		}
		
		.box {
			display : flex;
			padding-top : 1.5rem;
		}
		
		/*상단 뱃지*/
		.box-title1 {
			width : 8rem;
			height : 2rem;
			border-radius : 20px;
			border : 1px solid #8AA7AF;
			background-color : #D7E1E4;
			text-align : center;
			margin : 0 auto;
			
			display: flex;
	        align-items: center;
	        justify-content: center;
		}
		
		.box-title1 h6 {
			margin : 0;
			line-height : 1.7rem;
		}
		
		.box-title2 {
			width : 8rem;
			height : 2rem;
			border-radius : 20px;
			border : 1px solid #8AA7AF;
			background-color : #fff;
			text-align : center;
			margin : 0 auto;
			
			display: flex;
	        align-items: center;
	        justify-content: center;
		}
		
		.box-title2 h6 {
			margin : 0;
			line-height : 1.7rem;
		}

    </style>
</head>
<body>
<div layout:fragment="content">
    <div class="profile-container">
    	<div class="profile-header">
        	<i class="bi bi-arrow-left back-btn"></i>
            <h3 class="profile-title" th:text="${user.nickname} + '님의 프로필'">사용자 프로필</h3>
        </div>
        
        <div class="profile-content">
            <img class="profile-image" th:src="@{${user.profileImage != null and user.profileImage.startsWith('/') ? 
                user.profileImage : 
                (user.profileImage != null ? '/images/' + user.profileImage : '/static/images/default-profile.png')}}" alt="프로필 이미지">
            <div class="profile-info">
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-number" th:text="${user.friendCount}"></div>
                        <div class="stat-label">친구</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" th:text="${user.userId2}"></div>
                        <div class="stat-label">팔로워</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" th:text="${user.userId1}"></div>
                        <div class="stat-label">팔로잉</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="profile-name" th:text="${user.nickname}"></div>
        <h5 class="info" th:text="${user.gender == 'male' ? '남성' : '여성'} + ' / ' + ${user.height} + ' / ' + ${user.currentWeight}"></h5>
        <div class="user_intro">
            <h6>소개</h6>
            <h6 th:text="${user.myIntro != null and !user.myIntro.isEmpty() ? user.myIntro : '안녕하세요'}"></h6>
        </div>
        
        <div class="box">
	       	<div class="box-title1">
				<h6>기록</h6>
			</div>
			<div class="box-title2">
				<h6>뱃지</h6>
			</div>
		</div>
    </div>
</div>
</body>
</html>